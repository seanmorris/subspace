!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},n={},r={},o={}.hasOwnProperty,i=/^\.\.?(\/|$)/,c=function(t,e){for(var n,r=[],o=(i.test(e)?t+"/"+e:e).split("/"),c=0,u=o.length;c<u;c++)".."===(n=o[c])?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},u=function(t){return t.split("/").slice(0,-1).join("/")},a=function(e,r){var o,i={id:e,exports:{},hot:y&&y.createHot(e)};return n[e]=i,r(i.exports,(o=e,function(e){var n=c(u(o),e);return t.require(n,o)}),i),i.exports},s=function(t){var e=r[t];return e&&t!==e?s(e):t},f=function(t,r){null==r&&(r="/");var i=s(t);if(o.call(n,i))return n[i].exports;if(o.call(e,i))return a(i,e[i]);throw new Error("Cannot find module '"+t+"' from '"+r+"'")};f.alias=function(t,e){r[e]=t};var l=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/;f.register=f.define=function(t,i){if(t&&"object"==typeof t)for(var c in t)o.call(t,c)&&f.register(c,t[c]);else e[t]=i,delete n[t],function(t){if(l.test(t)){var e=t.replace(l,"");o.call(r,e)&&r[e].replace(l,"")!==e+"/index"||(r[e]=t)}if(p.test(t)){var n=t.replace(p,"");o.call(r,n)||(r[n]=t)}}(t)},f.list=function(){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t};var y=t._hmr&&new t._hmr((function(t,e){return s(c(u(t),e))}),f,e,n);f._cache=n,f.hmr=y&&y.wrap,f.brunch=!0,t.require=f}}(),function(){"undefined"==typeof window||window;require.register("Config.js",(function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0;var r="https:"===location.protocol?"wss://":"ws://",o=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};t.Config=o,o.title="SubSpace 0x29a",o.socketHost=r+location.hostname+":9998"})),require.register("Path.js",(function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;var r=e("./tasks/Echo"),o=e("./tasks/Parse"),i=e("./tasks/Lower"),c=e("./tasks/Upper"),u=e("./tasks/Prefix"),a=e("./tasks/Suffix"),s=e("./tasks/Countdown"),f=e("./tasks/Auth"),l=e("./tasks/Login"),p=e("./tasks/Register"),y=e("./tasks/RtcClient"),b=e("./tasks/RtcServer"),h=e("./tasks/PublishBytes"),v=e("./tasks/PublishFile"),m=e("./tasks/SayText"),d=e("./tasks/Raw"),g=e("./tasks/WatchImages"),w=e("./tasks/PublishAjax"),O=e("./tasks/Connection"),j=e("./tasks/CoTask"),_=e("./tasks/AudioTask"),k=e("./tasks/Measure"),P=e("./tasks/Theme");var S={countdown:s.Countdown,echo:r.Echo,parse:o.Parse,upper:c.Upper,lower:i.Lower,prefix:u.Prefix,suffix:a.Suffix,auth:f.Auth,pub:h.PublishBytes,pubajax:w.PublishAjax,pubfile:v.PublishFile,say:m.SayText,images:g.WatchImages,raw:d.Raw,login:l.Login,register:p.Register,rtcc:y.RtcClient,rtcs:b.RtcServer,connect:O.Connection,theme:P.Theme,measure:k.Measure,cotask:j.CoTask,audiotask:_.AudioTask};t.Path=S})),require.register("chat/Chat.js",(function(t,e,n){"use strict";var r=e("./View.js");function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;var i=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),e.args.output.push(new r.View)}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(t,[{key:"pass",value:function(){}}]),t}();t.Chat=i})),require.register("chat/View.js",(function(t,e,n){"use strict";var r=e("curvature/base/View");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var f=function(t){function n(){var t,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i(this,n),(t=r.call(this,o)).template=e("./view.tmp"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,t);var r=u(n);return n}(r.View);t.View=f})),require.register("chat/view.tmp.html",(function(t,e,n){n.exports='<div class = "nynex window">\n\t<div class = "titlebar">\n\t\t<div class = "title">💬 Chat App</div>\n\t\t<div class = "button">▂</div>\n\t\t<div class = "button">▅</div>\n\t</div>\n\t<select multiple height = "5">\n\t\t<option>Buddy</option>\n\t\t<option>Guy</option>\n\t\t<option>Friend</option>\n\t</select>\n</div>'})),require.register("initialize.js",(function(t,e,n){"use strict";e("curvature/base/Tag");var r=e("curvature/base/RuleSet"),o=e("curvature/base/Router"),i=e("subspace-console/Console"),c=e("./Path"),u=(e("subspace-client/Socket"),new i.Console({path:c.Path,init:"/init_rc"})),a=document.querySelector('meta[type="x-build-id"]'),s=document.querySelector('meta[type="x-build-localtime"]');u.rendered.then((function(){u.write("\\e[2m\\e[43m\\e[30m* SubSpace Console - Kallisti Websockets Playground","\\e[2m\\e[40m\\e[37m* Version: ".concat(a&&a.getAttribute("content")),"\\e[30m* Built @ ".concat(s&&s.getAttribute("content").split(" GMT")[0]),"\\e[30m* GMT".concat(s&&s.getAttribute("content").split(" GMT")[1]),"\\e[30m* © 2018-2021 \\e[0m\\e[2mSean Morris")})),r.RuleSet.add("body",u),r.RuleSet.wait(),o.Router.wait(u)})),require.register("mixin/MixPromise.js",(function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MixPromise=void 0;var r=e("curvature/base/Mixin");e("curvature/base/Bindable");function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var i=Symbol("promise"),c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(t,[{key:r.Mixin._constructor,value:function(t){t[i]=new Promise}},{key:"then",value:function(t){return this[i].then(t)}},{key:"catch",value:function(t){return this[i].catch(t)}},{key:"finally",value:function(t){return this[i].finally(t)}}]),t}();t.MixPromise=c})),require.register("mixin/Target.js",(function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r,o=e("curvature/base/Mixin");function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=Symbol("target"),u=0,a=(i(r={},o.Mixin.constructor,(function(){try{this[c]=new EventTarget}catch(t){this[c]=document.createDocumentFragment()}this[c].x=u++})),i(r,"dispatchEvent",(function(){var t;(t=this[c]).dispatchEvent.apply(t,arguments)})),i(r,"addEventListener",(function(){var t;(t=this[c]).addEventListener.apply(t,arguments)})),i(r,"removeEventListener",(function(){var t;(t=this[c]).removeEventListener.apply(t,arguments)})),r);t.Target=a})),require.register("mixin/TaskSignals.js",(function(t,e,n){"use strict";function r(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.TaskSignals=void 0;var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"signal::kill",value:function(){console.log("KILL!"),0<this.status?this[Reject]():this[Accept]()}},{key:"signal::close",value:function(){this.dispatchEvent(new CustomEvent("error",{detail:detail}))&&(0<this.status?this[Reject]():this[Accept]())}}]),t}();t.TaskSignals=i,o(i,"KILL","kill"),o(i,"CLOSE","close")})),require.register("tasks/AudioTask.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.AudioTask=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","AudioTask"),p(f(t),"prompt",".."),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){var t="\n\t\t\tconst WhiteNoiseProcessor = class extends AudioWorkletProcessor\n\t\t\t{\n\t\t\t\t_process = ".concat((function(t,e){return e[0].forEach((function(t){for(var e=0;e<t.length;e++)t[e]=440,Math.random()})),!0}),"\n\t\t\t\tprocess(inputs, outputs, parameters)\n\t\t\t\t{ return this._process(inputs, outputs, parameters); }\n\t\t\t}\n\t\t\tregisterProcessor('white-noise-processor', WhiteNoiseProcessor);\n\t\t"),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"})),n=new AudioContext;return n.audioWorklet.addModule(e).then((function(){var t=new AudioWorkletNode(n,"white-noise-processor");t.addEventListener("processorerror",(function(t){throw t})),t.connect(n.destination),setTimeout((function(){return t.disconnect()}),500)})).catch((function(t){return console.log(t)})),this.status=0,new Promise((function(t){return setTimeout((function(){console.log("1234"),t()}),500)}))}}]),e}(r.Task);t.AudioTask=y,p(y,"helpText","Run an audio operation in a separate thread."),p(y,"useText","audiotask")})),require.register("tasks/Auth.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Auth Task"),p(f(t),"prompt","<<"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){var t=this;return fetch("/auth?api").then((function(t){return t.text()})).then((function(e){return t.print("auth [token censored]"),t.term.socket.send("auth ".concat(e)),!0}))}}]),e}(r.Task);t.Auth=y,p(y,"helpText","Perform token exchange to identify socket connection."),p(y,"useText","/auth")})),require.register("tasks/CoTask.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.CoTask=void 0;var y=function(t){function n(){var t;i(this,n);for(var e=arguments.length,o=Array(e),c=0;c<e;c++)o[c]=arguments[c];return p(f(t=r.call.apply(r,[this].concat(o))),"title","CoTask"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,t);var r=a(n);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(n,[{key:"main",value:function(){var t="(".concat((function(t){importScripts(t.origin+"/app.js"),importScripts(t.origin+"/curvature.js");var n=e("curvature/base/View").View.from("html goes here");self.postMessage({view:n+""}),self.close&&self.close()}),")({\n\t\t\torigin: '").concat(location.origin,"'\n\t\t})"),n=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(n),o=new Worker(r);o.addEventListener("message",(function(t){console.log(t)})),this.status=0}}]),n}(r.Task);t.CoTask=y,p(y,"helpText","Run an operation in a separate thread."),p(y,"useText","cotask")})),require.register("tasks/Connection.js",(function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;var r=e("Config"),o=e("subspace-client/Socket"),i=e("../view/ByteView"),c=(e("../view/TextMessageView"),e("../view/BinaryMessageView")),u=e("subspace-console/Task");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=Symbol("accept"),d=function(t){function e(){var t;s(this,e);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return v(b(t=n.call.apply(n,[this].concat(o))),"title","Websocket Connection Task"),v(b(t),"prompt",".."),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t);var n=p(e);return function(t,e,n){e&&f(t.prototype,e),n&&f(t,n)}(e,[{key:"init",value:function(){var t=this;return this.socket=o.Socket.get(r.Config.socketHost,!0),this.term.socket=this.socket,this.term.env.set("socket",this.socket),this.socket.subscribe("close",(function(){t.term.args.output.push("Disconnected!"),t.term.args.output.push("Reinitializing in ".concat(r.Config.reconnect/1e3||3,"s...")),t.recon?(t.clearTimeout(t.recon),t.recon=!1):t.recon=setTimeout((function(){t.recon=!1,t.term.runScript("/bounce_rc")}),r.Config.reconnect||3e3)})),this.socket.subscribe("open",(function(){t.term.runScript("/open_rc"),t.prompt="<<"})),this.socket.subscribe("message",(function(e,n,r,o,u){if(t.term.localEcho)if("string"==typeof e.data){var s=JSON.parse(e.data);s.token&&1==s.you&&(t.term.postToken=s.token),"object"==a(s)&&(s=JSON.stringify(s,null,4)),t.term.write(s)}else if(e.data instanceof ArrayBuffer){var f=new Uint8Array(e.data),l=u.toString(16).toUpperCase().padStart(4,"0"),p=r.toString(16).toUpperCase().padStart(4,"0"),y=("0x".concat(l).concat(p),[u.toString(16).toUpperCase().padStart(4,"0"),r.toString(16).toUpperCase().padStart(4,"0")].join("").match(/.{1,2}/g));"server"==o&&(y=[r.toString(16).padStart(4,"0")],"0x".concat(r.toString(16).padStart(4,"0")));var b=Array.from(f).map((function(t){return t.toString(16).toUpperCase().padStart(2,"0")})),h=new c.BinaryMessageView({header:new i.ByteView({separator:"",bytes:y}),message:new i.ByteView({separator:" ",bytes:b.slice(6)})});h.preserve=!0,t.finally((function(){return h.remove()})),t.term.args.output.push(h)}})),new Promise((function(e){t[m]=e}))}},{key:"main",value:function(t){return t&&this.socket?(this.prompt="<<",this.socket.send(t),Promise.resolve()):void 0}}]),e}(u.Task);t.Connection=d,v(d,"helpText","Connect to a websocket."),v(d,"useText","/connect SERVER")})),require.register("tasks/Cornfield.js",(function(t,e,n){"use strict";function r(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.Cornfield=void 0;var o=function(){function t(e){var n=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),e.args.output.push(":: Welcome to Cornfield"),e.args.output.push(":: You are in a cornfield."),e.args.output.push(":: You see corn."),e.args.output.push(":: Move? [north south east west]"),e.args.output.push(":: Look?"),e.localEcho=!1,this.socket=e.socket,this.socket.subscribe("message:cornfield:game",(function(){})),this.socket.subscribe("message:cornfield:chat",(function(t,n,r,o,i){e.args.output.push("!! <".concat(i,"> ").concat(n))})),this.socket.subscribe("message:cornfield:users:ping",(function(){n.socket.publish("cornfield:users:pong","pong!")})),this.socket.subscribe("message:cornfield:users:pong",(function(){}))}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"pass",value:function(t,e){var n=t.split(" "),r=n.shift();switch(console.log(r),r.toLowerCase()){case"ping":this.socket.publish("cornfield:users:ping","ping!");break;case"look":e.args.output.push(":: You found an ear of corn."),this.socket.publish("cornfield:game","l");break;case"n":case"north":e.args.output.push(":: You moved north."),this.socket.publish("cornfield:game","n");break;case"s":case"south":e.args.output.push(":: You moved south."),this.socket.publish("cornfield:game","s");break;case"e":case"east":e.args.output.push(":: You moved east."),this.socket.publish("cornfield:game","e");break;case"w":case"west":e.args.output.push(":: You moved west."),this.socket.publish("cornfield:game","w");break;case"t":case"talk":case"say":var o=n.join(" ");e.args.output.push("!! <you> ".concat(o)),this.socket.publish("cornfield:chat",o)}e.args.input=""}}]),t}();t.Cornfield=o})),require.register("tasks/Countdown.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Countdown=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Countdown Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;this.max=+t,this.interval=+n;var r=this.max;return this.max?this.interval?(this.status=0,new Promise((function(t){var n=setInterval((function(){console.log(e),e.print("".concat(--r," iterations left").concat(r?"...":".")),0>=r&&t()}),e.interval);e.finally((function(){return clearInterval(n)}))}))):(this.status=1,void this.printErr("Interval must be a number > 0.")):(this.status=1,void this.printErr("Max must be a number > 0."))}},{key:"main",value:function(){}}]),e}(r.Task);t.Countdown=y,p(y,"helpText","Countdown from a given number."),p(y,"useText","/countdown MAX [INTERVAL]")})),require.register("tasks/Echo.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Echo=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Echo Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.print(e.join(" "))}},{key:"main",value:function(t){t&&this.print(t)}}]),e}(r.Task);t.Echo=y,p(y,"helpText","Print a string back to the terminal."),p(y,"useText","/echo input string")})),require.register("tasks/Help.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Help=void 0;var f=function(t){function e(){return i(this,e),n.apply(this,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t);var n=u(e);return e}(r.Task);t.Help=f})),require.register("tasks/Login.js",(function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;e("Config"),e("subspace-client/Socket");var o=e("subspace-console/Task");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=Symbol("accept"),b=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Login Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){var t=this;return this.print("Please type your username"),new Promise((function(e){t[y]=e}))}},{key:"main",value:function(t){var e=this.term;if(e.args.passwordMode=!1,this.stack||(this.stack=[]),t)return this.stack.push(t),1==this.stack.length?(e.args.passwordMode=!0,e.args.input="",void e.args.output.push(":: Please type your password [censored]")):void(2==this.stack.length&&(e.args.input="",e.localLock=!1,e.args.prompt="<<",e.args.output.push("<< login ".concat(this.stack[0]," [password censored]")),e.socket.send("login ".concat(this.stack[0]," ").concat(this.stack[1])),e.args.output.push(":: Checking..."),this[y]()))}}]),e}(o.Task);t.Login=b,p(b,"helpText","Login.")})),require.register("tasks/Lower.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Lower=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Lowercase Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"main",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.status=0,this.print((t+"").toLowerCase())}}]),e}(r.Task);t.Lower=y,p(y,"helpText","Transform data from STDIN to lowercase."),p(y,"useText","/something | lower")})),require.register("tasks/Measure.js",(function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Measure=void 0;var o=e("curvature/base/View");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","AudioTask"),p(f(t),"prompt",".."),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){var t=o.View.from("[[fill]]");return t.addEventListener("attached",(function(e){var n=new ResizeObserver((function(e){return e.forEach((function(e){t.args.w=e.contentRect.width,console.log(e,e.contentRect)}))})),r=e.detail.node;n.observe(r)})),this.print(t),t.args.fill="-",t.onInterval(16,(function(){return 400>t.args.fill.length&&(t.args.fill+="+")})),new Promise((function(t){return setTimeout((function(){t()}),5e3)}))}}]),e}(e("subspace-console/Task").Task);t.Measure=y,p(y,"helpText","Measure the width of the console."),p(y,"useText","measure")})),require.register("tasks/Parse.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Parse=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Parse Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"main",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.status=0,this.print((t+"").toUpperCase())}}]),e}(r.Task);t.Parse=y,p(y,"helpText","Test the curvature parser."),p(y,"useText","/something | parse")})),require.register("tasks/Prefix.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Prefix=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Prefix Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(t){this.content=t}},{key:"main",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.status=0,this.print((this.content||"Prefix.")+" "+t)}}]),e}(r.Task);t.Prefix=y,p(y,"helpText","Prepend a prefix to lines passed into STDIN."),p(y,"useText","/something | prefix PREFIX_TEXT")})),require.register("tasks/PublishAjax.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.PublishAjax=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Publish Ajax Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){if(this.term.postToken){this.print("".concat(this.postToken));var t=new FormData;t.append("token",this.term.postToken);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.append("channel",n.shift()),t.append("message",n.join(" ")),console.log(n,t),fetch("/post",{method:"post",body:t}).then((function(t){console.log(t)}))}this.print("Please aquire a POST token first.")}}]),e}(r.Task);t.PublishAjax=y,p(y,"helpText","Publish to a channel via AJAX."),p(y,"useText","/pubajax")})),require.register("tasks/PublishBytes.js",(function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PublishBytes=void 0;e("Config"),e("subspace-client/Socket");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){function e(){var t;o(this,e);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return l(s(t=n.call.apply(n,[this].concat(i))),"title","Publish Bytes Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t);var n=u(e);return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(e,[{key:"main",value:function(){for(var t=this.args,e=parseInt(t.shift(),16),n=[];t.length;)n.push(t.shift());var r=new Uint8Array(new Uint16Array([e]).buffer),o=[];for(var i in r)o[i]=r[i];for(var c=0;c<n.length;c++)o[c+2]=parseInt(n[c],16);this.term.socket.send(new Uint8Array(o))}}]),e}(e("subspace-console/Task").Task);t.PublishBytes=p,l(p,"helpText","Publish bytes from ARGV."),l(p,"useText","/pub CHAN BYTE [BYTE...] (hexadecimal)")})),require.register("tasks/PublishFile.js",(function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PublishFile=void 0;e("Config"),e("subspace-client/Socket");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){function e(){var t;o(this,e);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return l(s(t=n.call.apply(n,[this].concat(i))),"title","Publish File Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t);var n=u(e);return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(e,[{key:"init",value:function(t){var e=this;this.fileChannel=t;var n=document.createElement("input");n.setAttribute("type","file"),n.addEventListener("input",(function(){return e.fileLoaded(event)})),n.click()}},{key:"main",value:function(){}},{key:"fileLoaded",value:function(t){var e=this;if(!1!==this.fileChannel){var n=new FileReader,r=t.target,o=t.target.files[0];n.addEventListener("load",(function(t){e.print("Sending ".concat(o.name,"...")),e.fileChannel==parseInt(e.fileChannel)?e.term.socket.publish(e.fileChannel,t.target.result):e.term.socket.publish(e.fileChannel,new TextDecoder("utf-8").decode(t.target.result)),e.fileChannel=!1,r.value=""})),n.readAsArrayBuffer(o)}}}]),e}(e("subspace-console/Task").Task);t.PublishFile=p,l(p,"helpText","Publish bytes from a file to a channel."),l(p,"useText","/pubfile CHAN")})),require.register("tasks/Raw.js",(function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Raw=void 0;e("curvature/base/View");var o=e("subspace-console/Task");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=Symbol("accept"),b=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Watch Images Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(t){var e=this;if(void 0!==t){this.socket=this.term.socket;var n=this.term.localEcho,r=function(t,n){return e.print(n)};return this.finally((function(){e.socket.unsubscribe("message:".concat(t),r),e.term.localEcho=n})),this.term.localEcho=!1,this.socket.subscribe("message:".concat(t),r),this.print("Listening for messages on channel ".concat(t)),new Promise((function(t){return e[y]=t}))}this.printErr("Please supply a channel")}}]),e}(o.Task);t.Raw=b,p(b,"helpText","Watch a channel for images."),p(b,"useText","/images CHAN")})),require.register("tasks/Register.js",(function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Register=void 0;e("Config"),e("subspace-client/Socket");var o=e("subspace-console/Task");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=Symbol("accept"),b=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Register Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){var t=this;return this.print("Please type your username"),new Promise((function(e){t[y]=e}))}},{key:"main",value:function(t){var e=this.term;if(e.args.passwordMode=!1,this.stack||(this.stack=[]),this.stack.push(t),1==this.stack.length)return e.args.input="",void e.args.output.push(":: Please type your email address");if(2==this.stack.length)return e.args.passwordMode=!0,e.args.input="",void e.args.output.push(":: Please type your password");if(3==this.stack.length)return e.args.passwordMode=!0,e.args.input="",void e.args.output.push(":: Please type your password again.");if(4==this.stack.length){if(e.args.input="",this.stack[2]!==this.stack[3])return e.args.output.push(":: Password verification failed."),e.args.output.push(":: Please type your password"),e.args.passwordMode=!0,this.stack.pop(),void this.stack.pop();e.args.output.push(":: Trying to register ".concat(this.stack[0]," <").concat(this.stack[1],">...")),e.args.output.push("<< register ".concat(this.stack[0]," [password censored] ").concat(this.stack[1])),e.socket.send("register ".concat(this.stack[0]," ").concat(this.stack[2]," ").concat(this.stack[1])),e.localLock=!1,e.args.prompt="<<"}this[y]()}}]),e}(o.Task);t.Register=b,p(b,"helpText","Register.")})),require.register("tasks/RtcClient.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.RtcClient=void 0;var y=Symbol("accept"),b=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","RTC Client Task"),p(f(t),"connected",!1),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){var t=this;return this.peerClient=new RTCPeerConnection({iceServers:[]}),this.peerClient.addEventListener("icecandidate",(function(e){if(e.candidate){var n=JSON.stringify(t.peerClient.localDescription);t.print("Client Offer"),t.print(n)}})),this.peerClient.addEventListener("iceconnectionstatechange",(function(){var e=t.peerClient.iceConnectionState;t.print("RTC state: ".concat(e))})),this.peerClientChannel=this.peerClient.createDataChannel("chat"),this.peerClientChannel.addEventListener("open",(function(){t.print("Remote peer server accepted!"),t.connected=!0})),this.peerClientChannel.addEventListener("close",(function(){t.print("Peer reset connection."),t[y]()})),this.finally((function(){t.print("Terminating connection..."),t.peerClientChannel.close()})),this.peerClientChannel.addEventListener("message",(function(e){t.print("> ".concat(e.data))})),this.peerClient.createOffer().then((function(e){t.peerClient.setLocalDescription(e)})),new Promise((function(e){t[y]=e}))}},{key:"main",value:function(t){return t?this.connected?(this.print("< ".concat(t)),void this.peerClientChannel.send(t)):void this.accept(t):void 0}},{key:"accept",value:function(t){if(t){t=t.replace(/\r/g,"\\r").replace(/\n/g,"\\n");var e=JSON.parse(t),n=new RTCSessionDescription(e);this.peerClient.setRemoteDescription(n)}else this.print("Please supply SDP answer string.")}}]),e}(r.Task);t.RtcClient=b,p(b,"helpText","RTC Client."),p(b,"useText","")})),require.register("tasks/RtcServer.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.RtcServer=void 0;var y=Symbol("accept"),b=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","RTC Server Task"),p(f(t),"connected",!1),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){var t=this;return this.peerServer=new RTCPeerConnection({}),this.peerServer.addEventListener("icecandidate",(function(e){if(e.candidate){var n=JSON.stringify(t.peerServer.localDescription);t.print("Server Answer"),t.print(n)}})),this.peerServer.addEventListener("iceconnectionstatechange",(function(){var e=t.peerServer.iceConnectionState;t.print("RTC state: ".concat(e))})),this.peerServer.addEventListener("datachannel",(function(e){t.peerServerChannel=e.channel,t.peerServerChannel.addEventListener("open",(function(){t.print("Remote peer client accepted!"),t.connected=!0})),t.peerServerChannel.addEventListener("close",(function(){t.print("Peer reset connection."),t[y]()})),t.finally((function(){t.peerServerChannel&&(t.print("Terminating connection..."),t.peerServerChannel.close())})),t.peerServerChannel.addEventListener("message",(function(e){t.print("> ".concat(e.data))}))})),this.printErr("Waiting for SDP offer string..."),new Promise((function(e){t[y]=e}))}},{key:"main",value:function(t){return t?this.connected?(this.print("< ".concat(t)),void this.peerServerChannel.send(t)):void this.answer(t):void 0}},{key:"answer",value:function(t){var e=this;t=t.replace(/\r/g,"\\r").replace(/\n/g,"\\n");var n=JSON.parse(t);this.peerServer.setRemoteDescription(n),this.peerServer.createAnswer((function(t){e.peerServer.setLocalDescription(t)}),(function(t){console.error(t),e.printErr("Unexpected exception."),e[y]()}))}},{key:"done",value:function(){}}]),e}(r.Task);t.RtcServer=b,p(b,"helpText","RTC Server."),p(b,"useText","")})),require.register("tasks/SayAjax.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.SayAjax=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Say Ajax Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){if(this.term.postToken){this.print("".concat(this.postToken));for(var t=new FormData,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.shift(),i=n.splice(0,o),c=n.shift(),u=n.splice(0,c);return t.append("cc",i.join(",")),t.append("bcc",u.join(",")),console.log(i,u),t.append("token",this.term.postToken),t.append("channel",n.shift()),t.append("message",n.join(" ")),fetch("/post",{method:"post",body:t}).then((function(t){console.log(t)}))}this.print("Please aquire a POST token first.")}}]),e}(r.Task);t.SayAjax=y,p(y,"helpText","Whisper on a channel via AJAX."),p(y,"useText","/sayajax")})),require.register("tasks/SayText.js",(function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SayText=void 0;e("Config"),e("subspace-client/Socket");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){function e(){var t;o(this,e);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return l(s(t=n.call.apply(n,[this].concat(i))),"title","Publish Bytes Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t);var n=u(e);return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(e,[{key:"main",value:function(){var t=this.args,e=t.shift(),n=parseInt(t.shift()),r=t.splice(0,n).map(parseInt),o=parseInt(t.shift()),i=t.splice(0,o).map(parseInt);this.term.socket.say(e,{cc:r,bcc:i},t.join(""))}}]),e}(e("subspace-console/Task").Task);t.SayText=p,l(p,"helpText","Send bytes privately from ARGV."),l(p,"useText","/say CHANNEL_ID CC_COUNT CC_USER_ID[...] BCC_COUNT BCC_USER_ID[...] (hexadecimal)")})),require.register("tasks/Suffix.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Suffix=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Sufffix Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(t){this.content=t}},{key:"main",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.status=0,this.print(t+" "+(this.content||"Suffix."))}}]),e}(r.Task);t.Suffix=y,p(y,"helpText","Append a suffix to lines passed into STDIN."),p(y,"useText","/something | suffix SUFFIX_TEXT")})),require.register("tasks/Theme.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Theme=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Theme Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"init",value:function(){this.term.args.inverted=this.term.args.inverted?"":"inverted"}}]),e}(r.Task);t.Theme=y,p(y,"helpText","Change the current theme."),p(y,"useText","/theme")})),require.register("tasks/Upper.js",(function(t,e,n){"use strict";var r=e("subspace-console/Task");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Upper=void 0;var y=function(t){function e(){var t;i(this,e);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return p(f(t=n.call.apply(n,[this].concat(o))),"title","Uppercase Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"main",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.status=0,this.print((t+"").toUpperCase())}}]),e}(r.Task);t.Upper=y,p(y,"helpText","Transform data from STDIN to uppercase."),p(y,"useText","/something | upper")})),require.register("tasks/WatchImages.js",(function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.WatchImages=void 0;var o=e("curvature/base/View"),i=e("subspace-console/Task");function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=Symbol("accept"),h=function(t){function e(){var t;c(this,e);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return y(l(t=n.call.apply(n,[this].concat(o))),"title","Watch Images Task"),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,t);var n=s(e);return function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(e,[{key:"init",value:function(t){var e=this;if(void 0!==t){this.socket=this.term.socket;var n=this.term.localEcho,r=function(t,n,r,i){console.log(n,r,i),e.print("Got one.");var c=new Blob([new Uint8Array(n)]),u=URL.createObjectURL(c),a=o.View.from('<img cv-attr = "src:img" cv-ref = "img:curvature/base/Tag" />');a.postRender=function(){var t=a.tags.img.element,e=function(){t.removeEventListener("load",e),URL.revokeObjectURL(u)};t.addEventListener("load",e)},console.log(a),e.term.args.output.push(a),a.args.img=u};return this.finally((function(){e.socket.unsubscribe("message:".concat(t),r),e.term.localEcho=n})),this.term.localEcho=!1,this.socket.subscribe("message:".concat(t),r),this.print("Listening for images on channel ".concat(t)),new Promise((function(t){e[b]=t}))}this.printErr("Please supply a channel")}}]),e}(i.Task);t.WatchImages=h,y(h,"helpText","Watch a channel for images."),y(h,"useText","/images CHAN")})),require.register("view/BinaryMessageView.js",(function(t,e,n){"use strict";var r=e("curvature/base/View");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryMessageView=void 0;var f=function(t){function e(){var t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),(t=n.call(this,r)).template="<span>&gt;&gt;&nbsp;0x</span>[[header]]&nbsp;[[message]]",t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t);var n=u(e);return e}(r.View);t.BinaryMessageView=f})),require.register("view/ByteView.js",(function(t,e,n){"use strict";var r=e("curvature/base/View");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ByteView=void 0;var l=function(t){function e(){var t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),(t=n.call(this,r)).args.separator=t.args.separator||"",t.template='<span cv-each = "bytes:byte:b" class = "bytes"><span\n\t\t\t\tclass  = "byte"\n\t\t\t\tcv-on  = "cvDomAttached:color(event, byte, $view)"\n\t\t\t\tcv-ref = "byte:curvature/base/Tag"\n\n\t\t\t>[[byte]][[separator]]</span></span>',t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"color",value:function(t,e,n){var r=parseInt(e,16);r&&(n.tags.byte.element.style.color="hsl("+360*r/255+",100%,50%)")}}]),e}(r.View);t.ByteView=l})),require.register("view/EchoMessageView.js",(function(t,e,n){"use strict";var r=e("curvature/base/View");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TextMessageView=void 0;var f=function(t){function e(){var t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),(t=n.call(this,r)).template='<span>&lt;&lt;&nbsp;</span><span class = "text">[[message]]</span>',t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t);var n=u(e);return e}(r.View);t.TextMessageView=f})),require.register("view/MeltingText.js",(function(t,e,n){"use strict";var r=e("curvature/base/View");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MeltingText=void 0;var f=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t)).last=r.init=Date.now(),r.charUp=["̈́","̃","̀"],r.charMid=["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͏","͜","͝","͞","͟","͠","̸","̷","͡"],r.charDown=["̺","̻","̼","ͅ"],r.template='\n\t\t\t<div cv-bind = "output" class = "melting"></div>\n\t\t',r.args.input="Magic is no more than the art of employing consciously invisible means to produce visible effects. Will, love, and imagination are magic powers that everyone possesses; and whoever knows how to develop them to their fullest extent is a magician. Magic has but one dogma, namely, that the seen is the measure of the unseen\n",r.args.output="uh.",r.corruptors=[],r.maxMaxCorrupt=25,r.maxCorrupt=0,r.type="",r.onFrame((function(){r.typewriter(r.args.input)})),r.onInterval(64,(function(){var t=window.getSelection();t.anchorOffset!==t.focusOffset||t.anchorNode!==t.focusNode||(r.args.output=r.corrupt(r.type))})),r.args.bindTo("input",(function(){r.type="",r.corruptors=[]})),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t);var n=u(e);return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(e,[{key:"age",value:function(){return this.init-Date.now()}},{key:"lastFrame",value:function(){return this.last-Date.now()}},{key:"corrupt",value:function(t){if(1.15*t.length<this.args.input.length)return this.type;var e=t.split(""),n=function(t){return parseInt(Math.random()*t)};for(var r in 256>n(1024)&&this.maxCorrupt<this.maxMaxCorrupt&&(this.maxCorrupt+=5),e)if(this.corruptors[r]=this.corruptors[r]||[],!e[r].match(/\W/)){var o=[this.charDown,this.charMid],i=o[n(o.length)];1>n(8192)&&this.corruptors[r].unshift(i[n(i.length)]),this.corruptors[r].length<this.maxCorrupt&&this.corruptors[r].unshift(i[n(i.length)]),1>n(2048)&&25<this.maxCorrupt&&this.corruptors[r].splice(5*n(5)),this.corruptors[r].push(this.corruptors[r].shift())}for(var c in e)this.corruptors[c]&&(e[c]+=this.corruptors[c].join(""));return e.join("")}},{key:"typewriter",value:function(t){return this.type=this.type||"",this.type===t||(this.type+=t.substr(this.type.length,1),this.onTimeout(150,(function(){var t=window.scrollY+window.innerHeight;document.body.scrollHeight>t&&window.scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"})})),!1)}}]),e}(r.View);t.MeltingText=f})),require.register("view/TextMessageView.js",(function(t,e,n){"use strict";var r=e("curvature/base/View");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TextMessageView=void 0;var f=function(t){function e(){var t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),(t=n.call(this,r)).template='<span>&gt;&gt;&nbsp;</span><span class = "text">[[message]]</span>',t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t);var n=u(e);return e}(r.View);t.TextMessageView=f})),require.register("___globals___",(function(t,e,n){}))}(),require("___globals___");
